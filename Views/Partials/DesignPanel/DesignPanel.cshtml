@inherits UmbracoViewPage<SiteBuilderBaseViewModel>
@using USNSiteBuilder.Core.Models
@{
    Usnstyle websiteStyle = (Usnstyle)Model.WebsiteStyle;
    UsnstylesFolder stylesFolder = (UsnstylesFolder)websiteStyle.Parent;

    if (!stylesFolder.HideDesignPanel)
    {
        <script>
        var websiteStyleId = @(websiteStyle.Id);
        </script>
        <div ng-app="designApp">
            <div ng-controller="DesignAppController">

                <!-- uSkinned CMS Manager - Design -->
                <section class="usn-cms-manager usn-cms-manager_editor_design">

                    <div class="expand-cms-manager">

                        <button class="expand-usn-cms-manager-button">
                            <span class="usn-svg">
                                <svg width="24pt" height="24pt" fill="#9c27b0" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <g fill-rule="evenodd">
                                        <path d="m79.77 68.516c0.39844-0.011719 0.82031 0.097656 1.1562 0.3125 0.33594 0.21484 0.59375 0.53906 0.75 0.90625 0.94141 2.2266 4.1406 7.6523 5.5312 12.75 0.69531 2.5508 1.0508 5.1562 0 7.5312s-3.6602 3.9453-7.1562 4.1562h-0.1875c-3.6641-0.11328-6.3984-1.5977-7.5-4-1.1016-2.4023-0.68359-5.0547 0.0625-7.625 0.74609-2.5703 1.9258-5.168 3.0312-7.4375s2.1523-4.2656 2.5-5.25c0.13281-0.375 0.39453-0.73438 0.71875-0.96875s0.69531-0.36328 1.0938-0.375zm0.09375 6.7188c-0.26172 0.52734-0.53516 1.0586-0.8125 1.625-1.0742 2.207-2.1562 4.6602-2.7812 6.8125s-0.66016 3.9453-0.25 4.8438c0.40625 0.88672 1.1367 1.5547 3.875 1.6562 2.5312-0.16797 3.2422-0.84375 3.6562-1.7812 0.41797-0.94922 0.39453-2.7461-0.1875-4.875-0.73438-2.6953-2.2188-5.6914-3.5-8.2812z" />
                                        <path d="m56.301 5.8281c0.90625 0 1.8047 0.19531 2.6562 0.5625 1.8164 0.78516 3.457 2.2422 5 4.25 3.0352 3.957 5.7539 10.141 7.75 18.656 0.78906 0.73438 1.5586 1.4961 2.3438 2.2812 5.0391 5.0391 9.0312 10.172 11.469 14.562 1.2188 2.1953 2.0781 4.2188 2.4375 6.0625 0.35156 1.8008 0.24609 3.6914-1.0312 5.0625-0.023437 0.027344-0.066406 0.066406-0.09375 0.09375v0.03125l-35.125 35.094c-1.3711 1.3711-3.3438 1.4805-5.1875 1.125s-3.8359-1.1875-6.0312-2.4062c-4.3867-2.4375-9.5234-6.4297-14.562-11.469-5.0391-5.0391-9.0312-10.176-11.469-14.562-1.2188-2.1953-2.0469-4.1875-2.4062-6.0312-0.35156-1.8008-0.28125-3.7266 1-5.0938 0.03125-0.035156 0.089844-0.0625 0.125-0.09375l34.688-34.688c0.53906-6.4453 2.1562-10.797 5.4688-12.688 0.90234-0.51172 1.9414-0.75 2.9688-0.75zm-0.0625 3.9375c-0.31641 0.007813-0.59766 0.10547-0.90625 0.28125-1.0586 0.60547-2.5547 3.0156-3.25 7.5 0.46094 0.019531 0.91797 0.066406 1.375 0.15625 1.8438 0.35547 3.8672 1.1875 6.0625 2.4062 2.1211 1.1797 4.4102 2.75 6.7812 4.5938-1.6719-5.2734-3.6484-9.1719-5.5312-11.625-1.2656-1.6484-2.4922-2.6367-3.4062-3.0312-0.45703-0.19922-0.80859-0.28906-1.125-0.28125zm-4.4062 11.75c-0.035156 0-0.09375 0.03125-0.125 0.03125-0.046875 1.168-0.039062 2.4102 0 3.75 0.33594 0.84766 0.77734 1.7891 1.3438 2.8125 2.1758 3.918 5.9922 8.8672 10.812 13.688 4.8203 4.8203 9.7656 8.6016 13.688 10.781 1.9609 1.0898 3.6602 1.7695 4.8438 2 1.168 0.22656 1.5508 0.011719 1.5938-0.03125 0.039063-0.042969 0.25781-0.42578 0.03125-1.5938-0.23047-1.1836-0.91016-2.9141-2-4.875-2.1797-3.9219-5.9609-8.8359-10.781-13.656-4.8203-4.8203-9.7695-8.6367-13.688-10.812-1.957-1.0898-3.6641-1.7383-4.8438-1.9688-0.36719-0.070313-0.64844-0.12109-0.875-0.125zm2.25 27.125c-0.1875 0-0.37891 0-0.5625 0.03125-0.15234 0.058594-0.30859 0.10547-0.46875 0.125-0.43359 0.14844-0.8125 0.375-1.1562 0.71875-1.1875 1.1875-1.1875 3.0625 0 4.25 1.1836 1.1719 3.0664 1.1719 4.25 0 1.1836-1.1875 1.1836-3.0664 0-4.25-0.12891-0.12891-0.23438-0.21094-0.375-0.3125-0.49609-0.35547-1.1016-0.54688-1.6875-0.5625zm15.188 3.2188c-0.80859 1.5312-1.9883 2.5-2.7812 3.0312-0.61328 0.41016-0.94141 0.66406-1.0625 0.84375-0.11719 0.17578-0.23438 0.36719-0.15625 1.25 0.43359 2.7422 2.043 3.3047 3.7812 5.6875 0.875 1.1992 1.543 2.9141 1.4375 5-0.011719 0.13281 0.011719 0.27344 0 0.40625l9.875-9.9062c-1.4844-0.44141-3.0859-1.1523-4.7812-2.0938-1.9844-1.1016-4.1016-2.5312-6.3125-4.2188z" />
                                    </g>
                                </svg>
                            </span>
                            <span class="usn-svg">
                                <svg width="18pt" height="18pt" fill="#1b264f" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path d="m74.363 56.363l-36 36c-1.7578 1.7578-4.0586 2.6367-6.3633 2.6367s-4.6055-0.87891-6.3633-2.6367c-3.5156-3.5117-3.5156-9.2148 0-12.727l29.637-29.637-29.637-29.637c-3.5156-3.5117-3.5156-9.2148 0-12.727 3.5156-3.5156 9.2109-3.5156 12.727 0l36 36c3.5156 3.5117 3.5156 9.2148 0 12.727z" />
                                </svg>
                            </span>
                            <span class="d-none">Design</span>
                        </button>

                    </div>

                    <!-- Editor -->
                    <section class="usn-cms-mananger_editor usn-ajax-wrap">

                        <div class="usn-ajax-loading" ng-show="!stylesPromiseComplete || !googleFontsPromiseComplete">
                            <div class="usn-loading">
                                <span class="usn-message">Loading</span>
                            </div>
                        </div>

                        <div class="usn-alert-wrap" ng-show="getStylesError || getGoogleFontsError || getLoggedOutError || getGeneralSaveError || getLicenseError">
                            <div class="usn-alert usn-danger" ng-show="getStylesError">There was an issue loading your website design settings.</div>
                            <div class="usn-alert usn-danger" ng-show="getGoogleFontsError">There was an issue loading Google fonts.</div>
                            <div class="usn-alert usn-danger" ng-show="getLoggedOutError">You have been logged out of the Umbraco CMS, please login again to make your changes.</div>
                            <div class="usn-alert usn-danger" ng-show="getGeneralSaveError">An error occured. Unable to save your design settings.</div>
                            <div class="usn-alert usn-danger" ng-show="getLicenseError">Unable to save design panel changes due to invalid uSkinned License.</div>
                        </div>

                        <div ng-show="stylesPromiseComplete && googleFontsPromiseComplete && !getStylesError && !getGoogleFontsError && !getLoggedOutError && !getGeneralSaveError && !getLicenseError">

                            <!-- Design Name -->
                            <div class="usn-cms-name">
                                <span class="usn-design-name">
                                    <svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><g><path d="m93.602 9c-5.3984-5.3984-14.301-5.1016-19.301 0.69922l-39.102 45.102c2.8984 1 5.5 2.6992 7.6992 4.8984 2.1992 2.1992 3.8984 4.8984 4.8984 7.6992l45.102-39.102c5.8008-4.9961 6.2031-13.898 0.70312-19.297z" /><path d="m17.301 63.898c-6.3008 6.3008-3.1992 17.102-13.699 25-1.8984 1.3984-1.3008 4.3984 1 4.8984 16.301 3.3984 27.898-2.3008 34.102-8.5 5.8984-5.8984 5.8984-15.5 0-21.5-5.8047-5.8984-15.402-5.8984-21.402 0.10156z" /></g></svg>
                                    {{styles.designName}}
                                </span>
                            </div>
                            <!--// Design Name -->
                            <form name="designPanelForm" novalidate>
                                <!-- Section Tabs -->
                                <div class="usn-cms-tabs">

                                    <button class="usn-cms-tabs-item usn-cms-tabs-item-grouping-open" href="#design-1">Layout</button>
                                    <button class="usn-cms-tabs-item" href="#design-2">Colors</button>
                                    <button class="usn-cms-tabs-item" href="#design-3">Spacing</button>
                                    <button class="usn-cms-tabs-item" href="#design-4">Fonts</button>

                                </div>
                                <!--// Section Tabs -->
                                <!-- Grouping -->
                                @await Html.PartialAsync("DesignPanel/Layout", Model)
                                <!--// Grouping -->
                                <!-- Grouping -->
                                @await Html.PartialAsync("DesignPanel/Color", Model)
                                <!--// Grouping -->
                                <!-- Grouping -->
                                @await Html.PartialAsync("DesignPanel/Spacing", Model)
                                <!--// Grouping -->
                                <!-- Grouping -->
                                @await Html.PartialAsync("DesignPanel/Font", Model)
                                <!--// Grouping -->
                                <!-- Save and Publish -->
                                <div class="usn-cms-save">
                                    <button ng-class="{'usn-cms-save-button' : savingStatus === 'Ready', 'usn-cms-save-button usn-cms-saving-button' : savingStatus === 'Saving', 'usn-cms-save-button usn-cms-saved-button' : savingStatus === 'Saved', 'usn-disabled-button' : buttonDisabled}" ng-disabled="buttonDisabled" ng-click="updateDesign()">
                                        {{saveButtonText}}
                                        <span class="usn-save-progress"></span>
                                        <span class="usn-save-complete"><svg viewBox="0 0 512 512"><path d="M461.884 68.14c-132.601 81.297-228.817 183.87-272.048 235.345l-105.874-82.95-46.751 37.691 182.941 186.049c31.485-80.646 131.198-238.264 252.956-350.252L461.884 68.14z"></path></svg></span>
                                    </button>
                                </div>
                                <!--// Save and Publish -->
                            </form>
                            <!-- AJAX loading -->
                            <div class="usn-ajax-loading" ng-show="savingStatus === 'Saving'">
                                <div class="usn-loading">
                                    <span class="usn-message">
                                        Your changes are being saved and published, please wait.
                                    </span>
                                </div>
                            </div>
                            <!--// AJAX loading -->
                        </div>
                    </section>
                    <!--// Editor -->

                </section>
                <!--// uSkinned CMS Manager - Design -->
                <!-- uSkinned CMS Manager - Page Content -->
                <section class="usn-cms-manager usn-cms-manager_editor_content">

                    <div class="expand-cms-manager">

                        <button class="expand-usn-cms-manager-button">
                            <span class="usn-svg">
                                <svg width="24pt" height="24pt" fill="#000" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <g fill-rule="evenodd">
                                        <path d="m60.977 6c-4.6758-0.054688-9.2461 2.4141-11.691 6.7344l-1.3789 2.4531c-8.9414 15.941-17.945 32.016-26.902 48-0.34766 0.65234-0.47656 1.0508-0.48438 1.6211l-0.51562 23.031c-0.019531 0.80078 0.4375 1.5938 1.1367 1.9805 0.69922 0.38672 1.6094 0.35547 2.2812-0.082031l13.863-8.875c0.97656-0.625 1.2969-2.0781 0.67188-3.0547-0.625-0.97656-2.0781-1.2969-3.0508-0.67188l-10.383 6.6641 0.34375-15.469c5.3281 3.0312 10.523 5.8984 15.867 8.9102 1.0039 0.56641 2.4297 0.17187 3-0.82813 9.0547-16.086 18.098-32.305 27.145-48.344l1.3789-2.4531c3.5195-6.2969 1.2578-14.391-5.0352-17.922-1.9766-1.1133-4.1211-1.668-6.2422-1.6914zm-0.070312 4.4219c1.4141 0.019531 2.8164 0.39453 4.1406 1.1406 4.1797 2.3438 5.6875 7.7188 3.3438 11.914l-0.41406 0.72656c-5.1016-2.8867-10.133-5.7266-15.246-8.5977l0.37891-0.69141c1.6406-2.8945 4.6875-4.5312 7.7969-4.4883zm-10.348 9.0117 5.7617 3.2461-24.867 44.27-5.7266-3.2109zm9.5898 5.3867 5.6914 3.2109-24.867 44.27-5.6562-3.1758z" />
                                        <path d="m65.004 79.727c-2.3398-0.015624-4.3125 0.55859-5.9102 1.5117-2.5586 1.5273-4.1289 3.7188-5.6094 5.3477-1.4805 1.6328-2.6758 2.6641-4.5312 2.9258-1.8594 0.26172-4.8203-0.29297-9.6289-3.0703-0.5-0.29297-1.1211-0.37891-1.6836-0.23047-0.5625 0.14844-1.0586 0.52734-1.3477 1.0312-0.28906 0.50391-0.37109 1.125-0.21875 1.6875 0.15234 0.5625 0.53906 1.0547 1.043 1.3398 5.2578 3.0352 9.1641 4.082 12.449 3.6211s5.5039-2.4766 7.1875-4.332c1.6836-1.8516 3.0234-3.582 4.6016-4.5234 1.5742-0.9375 3.4141-1.3945 7.0195-0.35547 3.4375 1.0781 6.9531 2.2031 9.7773 1.7383 0.57812-0.09375 1.1094-0.42969 1.4492-0.90625 0.33594-0.47656 0.47266-1.0938 0.36719-1.668s-0.44922-1.1055-0.92969-1.4336c-0.48437-0.32812-1.1016-0.45312-1.6758-0.33984-1.8672 0.33984-3.5312-0.38281-7.7422-1.6289-1.625-0.48438-3.1992-0.69922-4.6172-0.71875z" />
                                    </g>
                                </svg>
                            </span>
                            <span class="usn-svg">
                                <svg width="18pt" height="18pt" fill="#000" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path d="m74.363 56.363l-36 36c-1.7578 1.7578-4.0586 2.6367-6.3633 2.6367s-4.6055-0.87891-6.3633-2.6367c-3.5156-3.5117-3.5156-9.2148 0-12.727l29.637-29.637-29.637-29.637c-3.5156-3.5117-3.5156-9.2148 0-12.727 3.5156-3.5156 9.2109-3.5156 12.727 0l36 36c3.5156 3.5117 3.5156 9.2148 0 12.727z" />
                                </svg>
                            </span>
                            <span class="d-none">Content</span>
                        </button>

                    </div>

                    <!-- Editor -->
                    <section class="usn-cms-mananger_editor">

                        <!-- Grouping -->
                        <div id="page-1" class="usn-cms-grouping usn-page-grouping usn-grouping-open">

                            <!-- Group section -->
                            <div class="usn-group-section">

                                <!-- Form Group -->
                                <div class="usn-form-group">

                                    <!-- Input Row -->
                                    <div class="usn-input-row">

                                        <!-- Input Col -->
                                        <div class="usn-input-col usn-input-col-full">

                                            <label class="usn-label">Enable Text Editor</label>
                                            <span class="note usn-note">Make the text on your page editable.</span>

                                            <label class="usn-label">Edit text</label>
                                            <switch ng-model="editText"></switch>
                                            <span class="switcher-status" ng-class="{ active: editText }">{{editText ? 'Yes' : 'No'}}</span>

                                        </div>
                                        <!--// Input Col -->
                                        <!-- Input Col -->
                                        <div class="usn-input-col usn-input-col-full">

                                            <div class="usn-alert usn-alert-small">Please note, any text changes you make will <strong>NOT be saved</strong>. This is for testing your design only.</div>

                                        </div>
                                        <!--// Input Col -->

                                    </div>
                                    <!--// Input Row -->

                                </div>
                                <!--// Form Group -->

                            </div>
                            <!--// Group section -->

                        </div>
                        <!--// Grouping -->

                    </section>
                    <!--// Editor -->

                </section>
                <!--// uSkinned CMS Manager - Page Content -->
            </div>

        </div>
    }
}